/* Import custom base styles first */
@import '../../shared/design-system/css/basestyles.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* FIGMA-LIKE COLOR PALETTE - Clean, Modern, Accessible */
    --background: 50 15% 96%; /* Creamy yellow-white, warmer tone */
    --foreground: 0 0% 15%; /* Dark grey */
    --card: 50 12% 97%; /* Creamy yellow-white cards */
    --card-foreground: 0 0% 15%;
    --popover: 50 12% 97%; /* Creamy yellow-white */
    --popover-foreground: 0 0% 15%;
    /* Primary - Dark grey for buttons */
    --primary: 0 0% 15%; /* Dark grey */
    --primary-foreground: 50 15% 96%; /* Creamy yellow-white */
    /* Secondary - Medium dark gray */
    --secondary: 0 0% 25%; /* Medium dark gray */
    --secondary-foreground: 50 15% 96%; /* Creamy yellow-white */
    /* Muted - Light creamy yellow-gray */
    --muted: 50 10% 94%; /* Light creamy yellow-gray */
    --muted-foreground: 0 0% 20%; /* Dark gray for contrast */
    /* Accent - Creamy yellow-gray for hover states */
    --accent: 50 8% 93%; /* Creamy yellow-gray */
    --accent-foreground: 0 0% 15%; /* Dark grey */
    /* Destructive - Figma-like red */
    --destructive: 0 84% 60%; /* Red - Figma style */
    --destructive-foreground: 50 15% 96%; /* Creamy yellow-white */
    --border: 0 0% 20%; /* Dark gray border */
    --input: 50 12% 97%; /* Creamy yellow-white input */
    --ring: 0 0% 15%; /* Dark grey focus ring */
    --radius: 0.375rem; /* Slightly sharper corners */
    /* Sidebar - Creamy yellow-white */
    --sidebar-background: 50 15% 96%;
    --sidebar-foreground: 0 0% 15%;
    --sidebar-primary: 0 0% 15%; /* Dark grey */
    --sidebar-primary-foreground: 50 15% 96%;
    --sidebar-accent: 50 8% 93%; /* Creamy yellow-gray */
    --sidebar-accent-foreground: 0 0% 20%;
    --sidebar-border: 0 0% 20%; /* Dark border */
    --sidebar-ring: 0 0% 15%; /* Dark grey */
  }

  .dark {
    /* Dark mode - Deep black */
    --background: 0 0% 5%; /* Near black */
    --foreground: 0 0% 98%; /* Near white */
    --card: 0 0% 8%; /* Slightly lighter black */
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 8%;
    --popover-foreground: 0 0% 98%;
    /* Primary - White for dark mode */
    --primary: 0 0% 98%; /* Near white */
    --primary-foreground: 0 0% 5%; /* Black */
    /* Dark gray */
    --secondary: 0 0% 25%; /* Dark gray */
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 15%; /* Dark gray */
    --muted-foreground: 0 0% 70%; /* Light gray */
    --accent: 0 0% 15%; /* Dark gray */
    --accent-foreground: 0 0% 98%;
    --destructive: 0 75% 60%; /* Bright red */
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 30%; /* Medium gray border */
    --input: 0 0% 10%; /* Dark input */
    --ring: 0 0% 98%; /* White focus ring */
    --sidebar-background: 0 0% 8%;
    --sidebar-foreground: 0 0% 90%;
    --sidebar-primary: 0 0% 98%;
    --sidebar-primary-foreground: 0 0% 5%;
    --sidebar-accent: 0 0% 12%;
    --sidebar-accent-foreground: 0 0% 85%;
    --sidebar-border: 0 0% 20%;
    --sidebar-ring: 0 0% 98%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    background-color: hsl(50, 15%, 96%); /* Creamy yellow-white - force it */
  }
  body {
    @apply bg-background text-foreground;
    background-color: hsl(50, 15%, 96%) !important; /* Creamy yellow-white - force it */
    /* Default text weight - lighter for non-clickable content */
    font-weight: 400; /* Normal weight for body text */
  }

  /* Clickable content - bolder */
  button,
  a,
  [role="button"],
  [role="link"],
  label[for],
  input[type="checkbox"] + label,
  input[type="radio"] + label,
  [data-link],
  [data-clickable] {
    font-weight: 700; /* Bold for clickable elements */
  }

  /* Non-clickable content - lighter weight */
  p,
  span:not(button span):not(a span),
  div:not(button):not(a),
  h1, h2, h3, h4, h5, h6 {
    font-weight: 400; /* Normal weight for body text */
  }

  /* Headings can be semibold for hierarchy */
  h1, h2, h3 {
    font-weight: 600;
  }

  /* Enhanced focus states for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
    outline-offset: 2px;
  }

  /* Stronger button focus states */
  button:focus-visible,
  a:focus-visible {
    @apply ring-2 ring-offset-2;
    outline-offset: 2px;
  }
}

@layer utilities {
  /* Grainy Rainbow Shadow Effect - Based on https://grainy-gradients.vercel.app/ */

  .grainy-gradient {
    position: relative;
  }

  .grainy-gradient::before {
    content: '';
    position: absolute;
    inset: -6px;
    border-radius: inherit;
    z-index: -1;
    background-image:
      linear-gradient(135deg, #ff0000 0%, #ff0000 45%, #00d4ff 55%, #00d4ff 100%),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    background-size:
      100% 100%,
      100px 100px;
    background-blend-mode: overlay;
    mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      black 15%,
      rgba(0, 0, 0, 0.9) 35%,
      rgba(0, 0, 0, 0.6) 55%,
      rgba(0, 0, 0, 0.3) 75%,
      rgba(0, 0, 0, 0.1) 90%,
      transparent 100%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      black 15%,
      rgba(0, 0, 0, 0.9) 35%,
      rgba(0, 0, 0, 0.6) 55%,
      rgba(0, 0, 0, 0.3) 75%,
      rgba(0, 0, 0, 0.1) 90%,
      transparent 100%
    );
    pointer-events: none;
  }

  /* Ensure button content stays above */
  .grainy-gradient > * {
    position: relative;
    z-index: 1;
  }

  .grainy-gradient-light {
    position: relative;
  }

  .grainy-gradient-light::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: inherit;
    z-index: -1;
    /* Pure red/cyan 3D glasses gradient combined with grain */
    background-image:
      linear-gradient(
        135deg,
        rgba(255, 0, 0, 0.4) 0%,
        rgba(255, 0, 0, 0.4) 45%,
        rgba(0, 212, 255, 0.4) 55%,
        rgba(0, 212, 255, 0.4) 100%
      ),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    background-size:
      100% 100%,
      100px 100px;
    background-blend-mode: overlay;
    mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    pointer-events: none;
  }

  .grainy-gradient-light > * {
    position: relative;
    z-index: 1;
  }

  /* Single-color grainy variants for toasts */
  .grainy-cyan {
    position: relative;
  }

  .grainy-cyan::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: inherit;
    z-index: -1;
    background-image:
      linear-gradient(
        135deg,
        rgba(0, 180, 220, 0.5) 0%,
        rgba(0, 212, 255, 0.6) 50%,
        rgba(0, 150, 200, 0.5) 100%
      ),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    background-size:
      100% 100%,
      100px 100px;
    background-blend-mode: overlay;
    mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    pointer-events: none;
  }

  .grainy-cyan > * {
    position: relative;
    z-index: 1;
  }

  .grainy-red {
    position: relative;
  }

  .grainy-red::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: inherit;
    z-index: -1;
    background-image:
      linear-gradient(
        135deg,
        rgba(200, 0, 0, 0.5) 0%,
        rgba(255, 0, 0, 0.6) 50%,
        rgba(180, 0, 0, 0.5) 100%
      ),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    background-size:
      100% 100%,
      100px 100px;
    background-blend-mode: overlay;
    mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    pointer-events: none;
  }

  .grainy-red > * {
    position: relative;
    z-index: 1;
  }

  .grainy-green {
    position: relative;
  }

  .grainy-green::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: inherit;
    z-index: -1;
    background-image:
      linear-gradient(
        135deg,
        rgba(34, 150, 34, 0.5) 0%,
        rgba(34, 197, 94, 0.6) 50%,
        rgba(22, 163, 74, 0.5) 100%
      ),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    background-size:
      100% 100%,
      100px 100px;
    background-blend-mode: overlay;
    mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    pointer-events: none;
  }

  .grainy-green > * {
    position: relative;
    z-index: 1;
  }

  .grainy-yellow {
    position: relative;
  }

  .grainy-yellow::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: inherit;
    z-index: -1;
    background-image:
      linear-gradient(
        135deg,
        rgba(202, 138, 4, 0.5) 0%,
        rgba(234, 179, 8, 0.6) 50%,
        rgba(161, 98, 7, 0.5) 100%
      ),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    background-size:
      100% 100%,
      100px 100px;
    background-blend-mode: overlay;
    mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    pointer-events: none;
  }

  .grainy-yellow > * {
    position: relative;
    z-index: 1;
  }

  .grainy-grey {
    position: relative;
    isolation: isolate;
  }

  .grainy-grey::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: inherit;
    z-index: -1;
    background-image:
      linear-gradient(
        135deg,
        rgba(50, 50, 50, 0.95) 0%,
        rgba(30, 30, 30, 1) 50%,
        rgba(50, 50, 50, 0.95) 100%
      ),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    background-size:
      100% 100%,
      100px 100px;
    background-blend-mode: overlay;
    mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 100% 100% at 50% 50%,
      black 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.5) 50%,
      rgba(0, 0, 0, 0.2) 70%,
      rgba(0, 0, 0, 0.05) 85%,
      transparent 100%
    );
    pointer-events: none;
  }

  .grainy-grey > * {
    position: relative;
    z-index: 1;
  }

  /* Animate the grain texture slowly moving down */
  @keyframes moveGrainDown {
    0% {
      background-position:
        0% 0%,
        0 0;
    }
    100% {
      background-position:
        0% 0%,
        0 200px;
    }
  }

  .grainy-grey::before {
    animation: moveGrainDown 40s linear infinite;
    animation-play-state: paused;
  }

  .grainy-grey:hover::before {
    animation-play-state: running;
  }
}

